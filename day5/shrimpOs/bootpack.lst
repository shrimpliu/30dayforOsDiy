     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_sprintf
     7 00000000                                 	EXTERN	_io_hlt
     8 00000000                                 	EXTERN	_hankaku
     9 00000000                                 	EXTERN	_io_load_eflags
    10 00000000                                 	EXTERN	_io_cli
    11 00000000                                 	EXTERN	_io_out8
    12 00000000                                 	EXTERN	_io_store_eflags
    13 00000000                                 	EXTERN	_load_gdtr
    14 00000000                                 	EXTERN	_load_idtr
    15 00000000                                 [FILE "bootpack.c"]
    16                                          [SECTION .data]
    17 00000000                                 LC0:
    18 00000000 53 48 52 49 4D 50 20 4F 53 00   	DB	"SHRIMP OS",0x00
    19 0000000A                                 LC1:
    20 0000000A 28 25 64 2C 25 64 29 00         	DB	"(%d,%d)",0x00
    21                                          [SECTION .text]
    22 00000000                                 	GLOBAL	_HariMain
    23 00000000                                 _HariMain:
    24 00000000 55                              	PUSH	EBP
    25 00000001 89 E5                           	MOV	EBP,ESP
    26 00000003 57                              	PUSH	EDI
    27 00000004 56                              	PUSH	ESI
    28 00000005 53                              	PUSH	EBX
    29 00000006 8D 9D FFFFFEC4                  	LEA	EBX,DWORD [-316+EBP]
    30 0000000C 81 EC 00000130                  	SUB	ESP,304
    31 00000012 E8 0000041B                     	CALL	_init_palette
    32 00000017 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
    33 0000001E 50                              	PUSH	EAX
    34 0000001F 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    35 00000026 50                              	PUSH	EAX
    36 00000027 FF 35 00000FF8                  	PUSH	DWORD [4088]
    37 0000002D E8 000000F4                     	CALL	_init_screen
    38 00000032 68 [00000000]                   	PUSH	LC0
    39 00000037 6A 02                           	PUSH	2
    40 00000039 6A 08                           	PUSH	8
    41 0000003B 6A 08                           	PUSH	8
    42 0000003D 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    43 00000044 50                              	PUSH	EAX
    44 00000045 FF 35 00000FF8                  	PUSH	DWORD [4088]
    45 0000004B E8 000002E7                     	CALL	_putfont8_asc
    46 00000050 83 C4 24                        	ADD	ESP,36
    47 00000053 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    48 0000005A B9 00000002                     	MOV	ECX,2
    49 0000005F 8D 50 F0                        	LEA	EDX,DWORD [-16+EAX]
    50 00000062 89 D0                           	MOV	EAX,EDX
    51 00000064 99                              	CDQ
    52 00000065 F7 F9                           	IDIV	ECX
    53 00000067 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
    54 0000006E 83 EA 2C                        	SUB	EDX,44
    55 00000071 89 C7                           	MOV	EDI,EAX
    56 00000073 89 D0                           	MOV	EAX,EDX
    57 00000075 6A 0E                           	PUSH	14
    58 00000077 99                              	CDQ
    59 00000078 F7 F9                           	IDIV	ECX
    60 0000007A 53                              	PUSH	EBX
    61 0000007B 89 C6                           	MOV	ESI,EAX
    62 0000007D E8 000002FD                     	CALL	_init_mouse_cursor8
    63 00000082 6A 10                           	PUSH	16
    64 00000084 53                              	PUSH	EBX
    65 00000085 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
    66 00000088 56                              	PUSH	ESI
    67 00000089 57                              	PUSH	EDI
    68 0000008A 6A 10                           	PUSH	16
    69 0000008C 6A 10                           	PUSH	16
    70 0000008E 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    71 00000095 50                              	PUSH	EAX
    72 00000096 FF 35 00000FF8                  	PUSH	DWORD [4088]
    73 0000009C E8 0000033B                     	CALL	_putblock8_8
    74 000000A1 83 C4 28                        	ADD	ESP,40
    75 000000A4 56                              	PUSH	ESI
    76 000000A5 57                              	PUSH	EDI
    77 000000A6 68 [0000000A]                   	PUSH	LC1
    78 000000AB 53                              	PUSH	EBX
    79 000000AC E8 [00000000]                   	CALL	_sprintf
    80 000000B1 53                              	PUSH	EBX
    81 000000B2 6A 02                           	PUSH	2
    82 000000B4 6A 1F                           	PUSH	31
    83 000000B6 6A 10                           	PUSH	16
    84 000000B8 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    85 000000BF 50                              	PUSH	EAX
    86 000000C0 FF 35 00000FF8                  	PUSH	DWORD [4088]
    87 000000C6 E8 0000026C                     	CALL	_putfont8_asc
    88 000000CB 83 C4 28                        	ADD	ESP,40
    89 000000CE                                 L2:
    90 000000CE E8 [00000000]                   	CALL	_io_hlt
    91 000000D3 EB F9                           	JMP	L2
    92 000000D5                                 	GLOBAL	_boxfill8
    93 000000D5                                 _boxfill8:
    94 000000D5 55                              	PUSH	EBP
    95 000000D6 89 E5                           	MOV	EBP,ESP
    96 000000D8 57                              	PUSH	EDI
    97 000000D9 56                              	PUSH	ESI
    98 000000DA 53                              	PUSH	EBX
    99 000000DB 51                              	PUSH	ECX
   100 000000DC 51                              	PUSH	ECX
   101 000000DD 8A 45 10                        	MOV	AL,BYTE [16+EBP]
   102 000000E0 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   103 000000E3 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   104 000000E6 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   105 000000E9 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   106 000000EC 7F 31                           	JG	L17
   107 000000EE 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   108 000000F1 0F AF D9                        	IMUL	EBX,ECX
   109 000000F4                                 L15:
   110 000000F4 8B 55 14                        	MOV	EDX,DWORD [20+EBP]
   111 000000F7 39 FA                           	CMP	EDX,EDI
   112 000000F9 7F 1B                           	JG	L19
   113 000000FB 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   114 000000FE 01 DE                           	ADD	ESI,EBX
   115 00000100 01 D6                           	ADD	ESI,EDX
   116 00000102 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   117 00000105                                 L14:
   118 00000105 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   119 00000108 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   120 0000010B 42                              	INC	EDX
   121 0000010C 88 06                           	MOV	BYTE [ESI],AL
   122 0000010E 46                              	INC	ESI
   123 0000010F 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   124 00000112 39 FA                           	CMP	EDX,EDI
   125 00000114 7E EF                           	JLE	L14
   126 00000116                                 L19:
   127 00000116 41                              	INC	ECX
   128 00000117 03 5D 0C                        	ADD	EBX,DWORD [12+EBP]
   129 0000011A 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   130 0000011D 7E D5                           	JLE	L15
   131 0000011F                                 L17:
   132 0000011F 58                              	POP	EAX
   133 00000120 5A                              	POP	EDX
   134 00000121 5B                              	POP	EBX
   135 00000122 5E                              	POP	ESI
   136 00000123 5F                              	POP	EDI
   137 00000124 5D                              	POP	EBP
   138 00000125 C3                              	RET
   139 00000126                                 	GLOBAL	_init_screen
   140 00000126                                 _init_screen:
   141 00000126 55                              	PUSH	EBP
   142 00000127 89 E5                           	MOV	EBP,ESP
   143 00000129 57                              	PUSH	EDI
   144 0000012A 56                              	PUSH	ESI
   145 0000012B 53                              	PUSH	EBX
   146 0000012C 83 EC 0C                        	SUB	ESP,12
   147 0000012F 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   148 00000132 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   149 00000135 83 E8 1D                        	SUB	EAX,29
   150 00000138 4F                              	DEC	EDI
   151 00000139 50                              	PUSH	EAX
   152 0000013A 57                              	PUSH	EDI
   153 0000013B 6A 00                           	PUSH	0
   154 0000013D 6A 00                           	PUSH	0
   155 0000013F 6A 0E                           	PUSH	14
   156 00000141 FF 75 0C                        	PUSH	DWORD [12+EBP]
   157 00000144 FF 75 08                        	PUSH	DWORD [8+EBP]
   158 00000147 E8 FFFFFF89                     	CALL	_boxfill8
   159 0000014C 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   160 0000014F 83 E8 1C                        	SUB	EAX,28
   161 00000152 50                              	PUSH	EAX
   162 00000153 57                              	PUSH	EDI
   163 00000154 50                              	PUSH	EAX
   164 00000155 6A 00                           	PUSH	0
   165 00000157 6A 08                           	PUSH	8
   166 00000159 FF 75 0C                        	PUSH	DWORD [12+EBP]
   167 0000015C FF 75 08                        	PUSH	DWORD [8+EBP]
   168 0000015F E8 FFFFFF71                     	CALL	_boxfill8
   169 00000164 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   170 00000167 83 C4 38                        	ADD	ESP,56
   171 0000016A 83 E8 1B                        	SUB	EAX,27
   172 0000016D 50                              	PUSH	EAX
   173 0000016E 57                              	PUSH	EDI
   174 0000016F 50                              	PUSH	EAX
   175 00000170 6A 00                           	PUSH	0
   176 00000172 6A 07                           	PUSH	7
   177 00000174 FF 75 0C                        	PUSH	DWORD [12+EBP]
   178 00000177 FF 75 08                        	PUSH	DWORD [8+EBP]
   179 0000017A E8 FFFFFF56                     	CALL	_boxfill8
   180 0000017F 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   181 00000182 48                              	DEC	EAX
   182 00000183 50                              	PUSH	EAX
   183 00000184 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   184 00000187 57                              	PUSH	EDI
   185 00000188 83 E8 1A                        	SUB	EAX,26
   186 0000018B 50                              	PUSH	EAX
   187 0000018C 6A 00                           	PUSH	0
   188 0000018E 6A 08                           	PUSH	8
   189 00000190 FF 75 0C                        	PUSH	DWORD [12+EBP]
   190 00000193 FF 75 08                        	PUSH	DWORD [8+EBP]
   191 00000196 E8 FFFFFF3A                     	CALL	_boxfill8
   192 0000019B 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   193 0000019E 83 C4 38                        	ADD	ESP,56
   194 000001A1 83 EE 18                        	SUB	ESI,24
   195 000001A4 56                              	PUSH	ESI
   196 000001A5 6A 3B                           	PUSH	59
   197 000001A7 56                              	PUSH	ESI
   198 000001A8 6A 03                           	PUSH	3
   199 000001AA 6A 07                           	PUSH	7
   200 000001AC FF 75 0C                        	PUSH	DWORD [12+EBP]
   201 000001AF FF 75 08                        	PUSH	DWORD [8+EBP]
   202 000001B2 E8 FFFFFF1E                     	CALL	_boxfill8
   203 000001B7 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   204 000001BA 83 E8 04                        	SUB	EAX,4
   205 000001BD 50                              	PUSH	EAX
   206 000001BE 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   207 000001C1 6A 02                           	PUSH	2
   208 000001C3 56                              	PUSH	ESI
   209 000001C4 6A 02                           	PUSH	2
   210 000001C6 6A 07                           	PUSH	7
   211 000001C8 FF 75 0C                        	PUSH	DWORD [12+EBP]
   212 000001CB FF 75 08                        	PUSH	DWORD [8+EBP]
   213 000001CE E8 FFFFFF02                     	CALL	_boxfill8
   214 000001D3 83 C4 38                        	ADD	ESP,56
   215 000001D6 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   216 000001D9 6A 3B                           	PUSH	59
   217 000001DB FF 75 F0                        	PUSH	DWORD [-16+EBP]
   218 000001DE 6A 03                           	PUSH	3
   219 000001E0 6A 0F                           	PUSH	15
   220 000001E2 FF 75 0C                        	PUSH	DWORD [12+EBP]
   221 000001E5 FF 75 08                        	PUSH	DWORD [8+EBP]
   222 000001E8 E8 FFFFFEE8                     	CALL	_boxfill8
   223 000001ED 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   224 000001F0 83 E8 05                        	SUB	EAX,5
   225 000001F3 50                              	PUSH	EAX
   226 000001F4 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   227 000001F7 6A 3B                           	PUSH	59
   228 000001F9 83 E8 17                        	SUB	EAX,23
   229 000001FC 50                              	PUSH	EAX
   230 000001FD 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   231 00000200 6A 3B                           	PUSH	59
   232 00000202 6A 0F                           	PUSH	15
   233 00000204 FF 75 0C                        	PUSH	DWORD [12+EBP]
   234 00000207 FF 75 08                        	PUSH	DWORD [8+EBP]
   235 0000020A E8 FFFFFEC6                     	CALL	_boxfill8
   236 0000020F 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   237 00000212 83 C4 38                        	ADD	ESP,56
   238 00000215 83 E8 03                        	SUB	EAX,3
   239 00000218 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   240 0000021B 50                              	PUSH	EAX
   241 0000021C 6A 3B                           	PUSH	59
   242 0000021E 50                              	PUSH	EAX
   243 0000021F 6A 02                           	PUSH	2
   244 00000221 6A 00                           	PUSH	0
   245 00000223 FF 75 0C                        	PUSH	DWORD [12+EBP]
   246 00000226 FF 75 08                        	PUSH	DWORD [8+EBP]
   247 00000229 E8 FFFFFEA7                     	CALL	_boxfill8
   248 0000022E FF 75 E8                        	PUSH	DWORD [-24+EBP]
   249 00000231 6A 3C                           	PUSH	60
   250 00000233 56                              	PUSH	ESI
   251 00000234 6A 3C                           	PUSH	60
   252 00000236 6A 00                           	PUSH	0
   253 00000238 FF 75 0C                        	PUSH	DWORD [12+EBP]
   254 0000023B FF 75 08                        	PUSH	DWORD [8+EBP]
   255 0000023E E8 FFFFFE92                     	CALL	_boxfill8
   256 00000243 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   257 00000246 83 C4 38                        	ADD	ESP,56
   258 00000249 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   259 0000024C 83 EB 04                        	SUB	EBX,4
   260 0000024F 83 EF 2F                        	SUB	EDI,47
   261 00000252 56                              	PUSH	ESI
   262 00000253 53                              	PUSH	EBX
   263 00000254 56                              	PUSH	ESI
   264 00000255 57                              	PUSH	EDI
   265 00000256 6A 0F                           	PUSH	15
   266 00000258 FF 75 0C                        	PUSH	DWORD [12+EBP]
   267 0000025B FF 75 08                        	PUSH	DWORD [8+EBP]
   268 0000025E E8 FFFFFE72                     	CALL	_boxfill8
   269 00000263 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   270 00000266 57                              	PUSH	EDI
   271 00000267 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   272 0000026A 57                              	PUSH	EDI
   273 0000026B 6A 0F                           	PUSH	15
   274 0000026D FF 75 0C                        	PUSH	DWORD [12+EBP]
   275 00000270 FF 75 08                        	PUSH	DWORD [8+EBP]
   276 00000273 E8 FFFFFE5D                     	CALL	_boxfill8
   277 00000278 83 C4 38                        	ADD	ESP,56
   278 0000027B FF 75 E8                        	PUSH	DWORD [-24+EBP]
   279 0000027E 53                              	PUSH	EBX
   280 0000027F FF 75 E8                        	PUSH	DWORD [-24+EBP]
   281 00000282 57                              	PUSH	EDI
   282 00000283 6A 07                           	PUSH	7
   283 00000285 FF 75 0C                        	PUSH	DWORD [12+EBP]
   284 00000288 FF 75 08                        	PUSH	DWORD [8+EBP]
   285 0000028B E8 FFFFFE45                     	CALL	_boxfill8
   286 00000290 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   287 00000293 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   288 00000296 83 E8 03                        	SUB	EAX,3
   289 00000299 50                              	PUSH	EAX
   290 0000029A 56                              	PUSH	ESI
   291 0000029B 50                              	PUSH	EAX
   292 0000029C 6A 07                           	PUSH	7
   293 0000029E FF 75 0C                        	PUSH	DWORD [12+EBP]
   294 000002A1 FF 75 08                        	PUSH	DWORD [8+EBP]
   295 000002A4 E8 FFFFFE2C                     	CALL	_boxfill8
   296 000002A9 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   297 000002AC 5B                              	POP	EBX
   298 000002AD 5E                              	POP	ESI
   299 000002AE 5F                              	POP	EDI
   300 000002AF 5D                              	POP	EBP
   301 000002B0 C3                              	RET
   302 000002B1                                 	GLOBAL	_putfont8
   303 000002B1                                 _putfont8:
   304 000002B1 55                              	PUSH	EBP
   305 000002B2 89 E5                           	MOV	EBP,ESP
   306 000002B4 57                              	PUSH	EDI
   307 000002B5 56                              	PUSH	ESI
   308 000002B6 31 F6                           	XOR	ESI,ESI
   309 000002B8 53                              	PUSH	EBX
   310 000002B9 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   311 000002BC 8A 5D 18                        	MOV	BL,BYTE [24+EBP]
   312 000002BF                                 L34:
   313 000002BF 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   314 000002C2 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   315 000002C5 01 F0                           	ADD	EAX,ESI
   316 000002C7 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   317 000002CB 03 45 08                        	ADD	EAX,DWORD [8+EBP]
   318 000002CE 8D 0C 02                        	LEA	ECX,DWORD [EDX+EAX*1]
   319 000002D1 8A 14 3E                        	MOV	DL,BYTE [ESI+EDI*1]
   320 000002D4 84 D2                           	TEST	DL,DL
   321 000002D6 79 02                           	JNS	L26
   322 000002D8 88 19                           	MOV	BYTE [ECX],BL
   323 000002DA                                 L26:
   324 000002DA 88 D0                           	MOV	AL,DL
   325 000002DC 83 E0 40                        	AND	EAX,64
   326 000002DF 84 C0                           	TEST	AL,AL
   327 000002E1 74 03                           	JE	L27
   328 000002E3 88 59 01                        	MOV	BYTE [1+ECX],BL
   329 000002E6                                 L27:
   330 000002E6 88 D0                           	MOV	AL,DL
   331 000002E8 83 E0 20                        	AND	EAX,32
   332 000002EB 84 C0                           	TEST	AL,AL
   333 000002ED 74 03                           	JE	L28
   334 000002EF 88 59 02                        	MOV	BYTE [2+ECX],BL
   335 000002F2                                 L28:
   336 000002F2 88 D0                           	MOV	AL,DL
   337 000002F4 83 E0 10                        	AND	EAX,16
   338 000002F7 84 C0                           	TEST	AL,AL
   339 000002F9 74 03                           	JE	L29
   340 000002FB 88 59 03                        	MOV	BYTE [3+ECX],BL
   341 000002FE                                 L29:
   342 000002FE 88 D0                           	MOV	AL,DL
   343 00000300 83 E0 08                        	AND	EAX,8
   344 00000303 84 C0                           	TEST	AL,AL
   345 00000305 74 03                           	JE	L30
   346 00000307 88 59 04                        	MOV	BYTE [4+ECX],BL
   347 0000030A                                 L30:
   348 0000030A 88 D0                           	MOV	AL,DL
   349 0000030C 83 E0 04                        	AND	EAX,4
   350 0000030F 84 C0                           	TEST	AL,AL
   351 00000311 74 03                           	JE	L31
   352 00000313 88 59 05                        	MOV	BYTE [5+ECX],BL
   353 00000316                                 L31:
   354 00000316 88 D0                           	MOV	AL,DL
   355 00000318 83 E0 02                        	AND	EAX,2
   356 0000031B 84 C0                           	TEST	AL,AL
   357 0000031D 74 03                           	JE	L32
   358 0000031F 88 59 06                        	MOV	BYTE [6+ECX],BL
   359 00000322                                 L32:
   360 00000322 83 E2 01                        	AND	EDX,1
   361 00000325 84 D2                           	TEST	DL,DL
   362 00000327 74 03                           	JE	L24
   363 00000329 88 59 07                        	MOV	BYTE [7+ECX],BL
   364 0000032C                                 L24:
   365 0000032C 46                              	INC	ESI
   366 0000032D 83 FE 0F                        	CMP	ESI,15
   367 00000330 7E 8D                           	JLE	L34
   368 00000332 5B                              	POP	EBX
   369 00000333 5E                              	POP	ESI
   370 00000334 5F                              	POP	EDI
   371 00000335 5D                              	POP	EBP
   372 00000336 C3                              	RET
   373 00000337                                 	GLOBAL	_putfont8_asc
   374 00000337                                 _putfont8_asc:
   375 00000337 55                              	PUSH	EBP
   376 00000338 89 E5                           	MOV	EBP,ESP
   377 0000033A 57                              	PUSH	EDI
   378 0000033B 56                              	PUSH	ESI
   379 0000033C 53                              	PUSH	EBX
   380 0000033D 8B 7D 14                        	MOV	EDI,DWORD [20+EBP]
   381 00000340 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
   382 00000343 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   383 00000346 80 3B 00                        	CMP	BYTE [EBX],0
   384 00000349 75 08                           	JNE	L42
   385 0000034B                                 L44:
   386 0000034B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   387 0000034E 5B                              	POP	EBX
   388 0000034F 5E                              	POP	ESI
   389 00000350 5F                              	POP	EDI
   390 00000351 5D                              	POP	EBP
   391 00000352 C3                              	RET
   392 00000353                                 L42:
   393 00000353 0F B6 03                        	MOVZX	EAX,BYTE [EBX]
   394 00000356 C1 E0 04                        	SAL	EAX,4
   395 00000359 43                              	INC	EBX
   396 0000035A 05 [00000000]                   	ADD	EAX,_hankaku
   397 0000035F 50                              	PUSH	EAX
   398 00000360 0F BE 45 18                     	MOVSX	EAX,BYTE [24+EBP]
   399 00000364 50                              	PUSH	EAX
   400 00000365 57                              	PUSH	EDI
   401 00000366 56                              	PUSH	ESI
   402 00000367 83 C6 08                        	ADD	ESI,8
   403 0000036A FF 75 0C                        	PUSH	DWORD [12+EBP]
   404 0000036D FF 75 08                        	PUSH	DWORD [8+EBP]
   405 00000370 E8 FFFFFF3C                     	CALL	_putfont8
   406 00000375 83 C4 18                        	ADD	ESP,24
   407 00000378 80 3B 00                        	CMP	BYTE [EBX],0
   408 0000037B 75 D6                           	JNE	L42
   409 0000037D EB CC                           	JMP	L44
   410                                          [SECTION .data]
   411 00000012                                 _cursor.0:
   412 00000012 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"**************.."
       0000001C 2A 2A 2A 2A 2E 2E 
   413 00000022 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOOO*..."
       0000002C 4F 4F 2A 2E 2E 2E 
   414 00000032 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOO*...."
       0000003C 4F 2A 2E 2E 2E 2E 
   415 00000042 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOO*....."
       0000004C 2A 2E 2E 2E 2E 2E 
   416 00000052 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*......"
       0000005C 2E 2E 2E 2E 2E 2E 
   417 00000062 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       0000006C 2E 2E 2E 2E 2E 2E 
   418 00000072 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       0000007C 2E 2E 2E 2E 2E 2E 
   419 00000082 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*......"
       0000008C 2E 2E 2E 2E 2E 2E 
   420 00000092 2A 4F 4F 4F 4F 2A 2A 4F 4F 4F   	DB	"*OOOO**OOO*....."
       0000009C 2A 2E 2E 2E 2E 2E 
   421 000000A2 2A 4F 4F 4F 2A 2E 2E 2A 4F 4F   	DB	"*OOO*..*OOO*...."
       000000AC 4F 2A 2E 2E 2E 2E 
   422 000000B2 2A 4F 4F 2A 2E 2E 2E 2E 2A 4F   	DB	"*OO*....*OOO*..."
       000000BC 4F 4F 2A 2E 2E 2E 
   423 000000C2 2A 4F 2A 2E 2E 2E 2E 2E 2E 2A   	DB	"*O*......*OOO*.."
       000000CC 4F 4F 4F 2A 2E 2E 
   424 000000D2 2A 2A 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"**........*OOO*."
       000000DC 2A 4F 4F 4F 2A 2E 
   425 000000E2 2A 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"*..........*OOO*"
       000000EC 2E 2A 4F 4F 4F 2A 
   426 000000F2 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"............*OO*"
       000000FC 2E 2E 2A 4F 4F 2A 
   427 00000102 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	".............***"
       0000010C 2E 2E 2E 2A 2A 2A 
   428                                          [SECTION .text]
   429 0000037F                                 	GLOBAL	_init_mouse_cursor8
   430 0000037F                                 _init_mouse_cursor8:
   431 0000037F 55                              	PUSH	EBP
   432 00000380 89 E5                           	MOV	EBP,ESP
   433 00000382 57                              	PUSH	EDI
   434 00000383 56                              	PUSH	ESI
   435 00000384 31 FF                           	XOR	EDI,EDI
   436 00000386 53                              	PUSH	EBX
   437 00000387 56                              	PUSH	ESI
   438 00000388 31 DB                           	XOR	EBX,EBX
   439 0000038A 8A 45 0C                        	MOV	AL,BYTE [12+EBP]
   440 0000038D 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   441 00000390 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   442 00000393                                 L58:
   443 00000393 31 D2                           	XOR	EDX,EDX
   444 00000395                                 L57:
   445 00000395 8D 04 3A                        	LEA	EAX,DWORD [EDX+EDI*1]
   446 00000398 80 B8 [00000012] 2A             	CMP	BYTE [_cursor.0+EAX],42
   447 0000039F 74 35                           	JE	L63
   448 000003A1                                 L54:
   449 000003A1 80 B8 [00000012] 4F             	CMP	BYTE [_cursor.0+EAX],79
   450 000003A8 74 26                           	JE	L64
   451 000003AA                                 L55:
   452 000003AA 80 B8 [00000012] 2E             	CMP	BYTE [_cursor.0+EAX],46
   453 000003B1 74 15                           	JE	L65
   454 000003B3                                 L52:
   455 000003B3 42                              	INC	EDX
   456 000003B4 83 FA 0F                        	CMP	EDX,15
   457 000003B7 7E DC                           	JLE	L57
   458 000003B9 43                              	INC	EBX
   459 000003BA 83 C7 10                        	ADD	EDI,16
   460 000003BD 83 FB 0F                        	CMP	EBX,15
   461 000003C0 7E D1                           	JLE	L58
   462 000003C2 5B                              	POP	EBX
   463 000003C3 5B                              	POP	EBX
   464 000003C4 5E                              	POP	ESI
   465 000003C5 5F                              	POP	EDI
   466 000003C6 5D                              	POP	EBP
   467 000003C7 C3                              	RET
   468 000003C8                                 L65:
   469 000003C8 8A 4D F3                        	MOV	CL,BYTE [-13+EBP]
   470 000003CB 88 0C 30                        	MOV	BYTE [EAX+ESI*1],CL
   471 000003CE EB E3                           	JMP	L52
   472 000003D0                                 L64:
   473 000003D0 C6 04 30 07                     	MOV	BYTE [EAX+ESI*1],7
   474 000003D4 EB D4                           	JMP	L55
   475 000003D6                                 L63:
   476 000003D6 C6 04 30 00                     	MOV	BYTE [EAX+ESI*1],0
   477 000003DA EB C5                           	JMP	L54
   478 000003DC                                 	GLOBAL	_putblock8_8
   479 000003DC                                 _putblock8_8:
   480 000003DC 55                              	PUSH	EBP
   481 000003DD 89 E5                           	MOV	EBP,ESP
   482 000003DF 57                              	PUSH	EDI
   483 000003E0 56                              	PUSH	ESI
   484 000003E1 31 F6                           	XOR	ESI,ESI
   485 000003E3 53                              	PUSH	EBX
   486 000003E4 83 EC 0C                        	SUB	ESP,12
   487 000003E7 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   488 000003EA 7D 3E                           	JGE	L78
   489 000003EC 31 FF                           	XOR	EDI,EDI
   490 000003EE                                 L76:
   491 000003EE 31 DB                           	XOR	EBX,EBX
   492 000003F0 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   493 000003F3 7D 2C                           	JGE	L80
   494 000003F5 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
   495 000003F8 01 F8                           	ADD	EAX,EDI
   496 000003FA 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   497 000003FD                                 L75:
   498 000003FD 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   499 00000400 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
   500 00000403 01 F0                           	ADD	EAX,ESI
   501 00000405 01 DA                           	ADD	EDX,EBX
   502 00000407 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   503 0000040B 01 D0                           	ADD	EAX,EDX
   504 0000040D 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   505 00000410 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
   506 00000413 43                              	INC	EBX
   507 00000414 8A 12                           	MOV	DL,BYTE [EDX]
   508 00000416 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
   509 00000419 FF 45 EC                        	INC	DWORD [-20+EBP]
   510 0000041C 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   511 0000041F 7C DC                           	JL	L75
   512 00000421                                 L80:
   513 00000421 46                              	INC	ESI
   514 00000422 03 7D 24                        	ADD	EDI,DWORD [36+EBP]
   515 00000425 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   516 00000428 7C C4                           	JL	L76
   517 0000042A                                 L78:
   518 0000042A 83 C4 0C                        	ADD	ESP,12
   519 0000042D 5B                              	POP	EBX
   520 0000042E 5E                              	POP	ESI
   521 0000042F 5F                              	POP	EDI
   522 00000430 5D                              	POP	EBP
   523 00000431 C3                              	RET
   524                                          [SECTION .data]
   525 00000112                                 _table_rgb.1:
   526 00000112 00                              	DB	0
   527 00000113 00                              	DB	0
   528 00000114 00                              	DB	0
   529 00000115 FF                              	DB	-1
   530 00000116 00                              	DB	0
   531 00000117 00                              	DB	0
   532 00000118 00                              	DB	0
   533 00000119 FF                              	DB	-1
   534 0000011A 00                              	DB	0
   535 0000011B FF                              	DB	-1
   536 0000011C FF                              	DB	-1
   537 0000011D 00                              	DB	0
   538 0000011E 00                              	DB	0
   539 0000011F 00                              	DB	0
   540 00000120 FF                              	DB	-1
   541 00000121 FF                              	DB	-1
   542 00000122 00                              	DB	0
   543 00000123 FF                              	DB	-1
   544 00000124 00                              	DB	0
   545 00000125 FF                              	DB	-1
   546 00000126 FF                              	DB	-1
   547 00000127 FF                              	DB	-1
   548 00000128 FF                              	DB	-1
   549 00000129 FF                              	DB	-1
   550 0000012A C6                              	DB	-58
   551 0000012B C6                              	DB	-58
   552 0000012C C6                              	DB	-58
   553 0000012D 84                              	DB	-124
   554 0000012E 00                              	DB	0
   555 0000012F 00                              	DB	0
   556 00000130 00                              	DB	0
   557 00000131 84                              	DB	-124
   558 00000132 00                              	DB	0
   559 00000133 84                              	DB	-124
   560 00000134 84                              	DB	-124
   561 00000135 00                              	DB	0
   562 00000136 00                              	DB	0
   563 00000137 00                              	DB	0
   564 00000138 84                              	DB	-124
   565 00000139 84                              	DB	-124
   566 0000013A 00                              	DB	0
   567 0000013B 84                              	DB	-124
   568 0000013C 00                              	DB	0
   569 0000013D 84                              	DB	-124
   570 0000013E 84                              	DB	-124
   571 0000013F 84                              	DB	-124
   572 00000140 84                              	DB	-124
   573 00000141 84                              	DB	-124
   574                                          [SECTION .text]
   575 00000432                                 	GLOBAL	_init_palette
   576 00000432                                 _init_palette:
   577 00000432 55                              	PUSH	EBP
   578 00000433 89 E5                           	MOV	EBP,ESP
   579 00000435 68 [00000112]                   	PUSH	_table_rgb.1
   580 0000043A 6A 0F                           	PUSH	15
   581 0000043C 6A 00                           	PUSH	0
   582 0000043E E8 00000002                     	CALL	_set_palette
   583 00000443 C9                              	LEAVE
   584 00000444 C3                              	RET
   585 00000445                                 	GLOBAL	_set_palette
   586 00000445                                 _set_palette:
   587 00000445 55                              	PUSH	EBP
   588 00000446 89 E5                           	MOV	EBP,ESP
   589 00000448 57                              	PUSH	EDI
   590 00000449 56                              	PUSH	ESI
   591 0000044A 53                              	PUSH	EBX
   592 0000044B 51                              	PUSH	ECX
   593 0000044C 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   594 0000044F 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   595 00000452 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   596 00000455 E8 [00000000]                   	CALL	_io_load_eflags
   597 0000045A 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   598 0000045D E8 [00000000]                   	CALL	_io_cli
   599 00000462 53                              	PUSH	EBX
   600 00000463 68 000003C8                     	PUSH	968
   601 00000468 E8 [00000000]                   	CALL	_io_out8
   602 0000046D 39 FB                           	CMP	EBX,EDI
   603 0000046F 58                              	POP	EAX
   604 00000470 5A                              	POP	EDX
   605 00000471 7E 12                           	JLE	L87
   606 00000473                                 L89:
   607 00000473 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   608 00000476 89 45 08                        	MOV	DWORD [8+EBP],EAX
   609 00000479 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   610 0000047C 5B                              	POP	EBX
   611 0000047D 5E                              	POP	ESI
   612 0000047E 5F                              	POP	EDI
   613 0000047F 5D                              	POP	EBP
   614 00000480 E9 [00000000]                   	JMP	_io_store_eflags
   615 00000485                                 L87:
   616 00000485 8A 06                           	MOV	AL,BYTE [ESI]
   617 00000487 43                              	INC	EBX
   618 00000488 C0 E8 02                        	SHR	AL,2
   619 0000048B 0F B6 C0                        	MOVZX	EAX,AL
   620 0000048E 50                              	PUSH	EAX
   621 0000048F 68 000003C9                     	PUSH	969
   622 00000494 E8 [00000000]                   	CALL	_io_out8
   623 00000499 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   624 0000049C C0 E8 02                        	SHR	AL,2
   625 0000049F 0F B6 C0                        	MOVZX	EAX,AL
   626 000004A2 50                              	PUSH	EAX
   627 000004A3 68 000003C9                     	PUSH	969
   628 000004A8 E8 [00000000]                   	CALL	_io_out8
   629 000004AD 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   630 000004B0 C0 E8 02                        	SHR	AL,2
   631 000004B3 83 C6 03                        	ADD	ESI,3
   632 000004B6 0F B6 C0                        	MOVZX	EAX,AL
   633 000004B9 50                              	PUSH	EAX
   634 000004BA 68 000003C9                     	PUSH	969
   635 000004BF E8 [00000000]                   	CALL	_io_out8
   636 000004C4 83 C4 18                        	ADD	ESP,24
   637 000004C7 39 FB                           	CMP	EBX,EDI
   638 000004C9 7E BA                           	JLE	L87
   639 000004CB EB A6                           	JMP	L89
   640 000004CD                                 	GLOBAL	_init_gdtidt
   641 000004CD                                 _init_gdtidt:
   642 000004CD 55                              	PUSH	EBP
   643 000004CE 89 E5                           	MOV	EBP,ESP
   644 000004D0 56                              	PUSH	ESI
   645 000004D1 53                              	PUSH	EBX
   646 000004D2 BE 00270000                     	MOV	ESI,2555904
   647 000004D7 BB 00001FFF                     	MOV	EBX,8191
   648 000004DC                                 L95:
   649 000004DC 6A 00                           	PUSH	0
   650 000004DE 6A 00                           	PUSH	0
   651 000004E0 6A 00                           	PUSH	0
   652 000004E2 56                              	PUSH	ESI
   653 000004E3 83 C6 08                        	ADD	ESI,8
   654 000004E6 E8 0000007B                     	CALL	_set_segmdesc
   655 000004EB 83 C4 10                        	ADD	ESP,16
   656 000004EE 4B                              	DEC	EBX
   657 000004EF 79 EB                           	JNS	L95
   658 000004F1 68 00004092                     	PUSH	16530
   659 000004F6 6A 00                           	PUSH	0
   660 000004F8 6A FF                           	PUSH	-1
   661 000004FA 68 00270008                     	PUSH	2555912
   662 000004FF E8 00000062                     	CALL	_set_segmdesc
   663 00000504 68 0000409A                     	PUSH	16538
   664 00000509 68 00280000                     	PUSH	2621440
   665 0000050E 68 0007FFFF                     	PUSH	524287
   666 00000513 68 00270010                     	PUSH	2555920
   667 00000518 E8 00000049                     	CALL	_set_segmdesc
   668 0000051D 83 C4 20                        	ADD	ESP,32
   669 00000520 68 00270000                     	PUSH	2555904
   670 00000525 68 0000FFFF                     	PUSH	65535
   671 0000052A E8 [00000000]                   	CALL	_load_gdtr
   672 0000052F 5B                              	POP	EBX
   673 00000530 5E                              	POP	ESI
   674 00000531 BB 000000FF                     	MOV	EBX,255
   675 00000536 BE 0026F800                     	MOV	ESI,2553856
   676 0000053B                                 L100:
   677 0000053B 6A 00                           	PUSH	0
   678 0000053D 6A 00                           	PUSH	0
   679 0000053F 6A 00                           	PUSH	0
   680 00000541 56                              	PUSH	ESI
   681 00000542 83 C6 08                        	ADD	ESI,8
   682 00000545 E8 00000066                     	CALL	_set_gatedesc
   683 0000054A 83 C4 10                        	ADD	ESP,16
   684 0000054D 4B                              	DEC	EBX
   685 0000054E 79 EB                           	JNS	L100
   686 00000550 68 0026F800                     	PUSH	2553856
   687 00000555 68 000007FF                     	PUSH	2047
   688 0000055A E8 [00000000]                   	CALL	_load_idtr
   689 0000055F 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   690 00000562 5B                              	POP	EBX
   691 00000563 5E                              	POP	ESI
   692 00000564 5D                              	POP	EBP
   693 00000565 C3                              	RET
   694 00000566                                 	GLOBAL	_set_segmdesc
   695 00000566                                 _set_segmdesc:
   696 00000566 55                              	PUSH	EBP
   697 00000567 89 E5                           	MOV	EBP,ESP
   698 00000569 53                              	PUSH	EBX
   699 0000056A 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
   700 0000056D 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   701 00000570 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   702 00000573 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   703 00000576 81 FA 000FFFFF                  	CMP	EDX,1048575
   704 0000057C 76 08                           	JBE	L106
   705 0000057E C1 EA 0C                        	SHR	EDX,12
   706 00000581 0D 00008000                     	OR	EAX,32768
   707 00000586                                 L106:
   708 00000586 66 89 13                        	MOV	WORD [EBX],DX
   709 00000589 88 43 05                        	MOV	BYTE [5+EBX],AL
   710 0000058C C1 EA 10                        	SHR	EDX,16
   711 0000058F C1 F8 08                        	SAR	EAX,8
   712 00000592 83 E2 0F                        	AND	EDX,15
   713 00000595 66 89 4B 02                     	MOV	WORD [2+EBX],CX
   714 00000599 83 E0 F0                        	AND	EAX,-16
   715 0000059C C1 F9 10                        	SAR	ECX,16
   716 0000059F 09 C2                           	OR	EDX,EAX
   717 000005A1 88 4B 04                        	MOV	BYTE [4+EBX],CL
   718 000005A4 88 53 06                        	MOV	BYTE [6+EBX],DL
   719 000005A7 C1 F9 08                        	SAR	ECX,8
   720 000005AA 88 4B 07                        	MOV	BYTE [7+EBX],CL
   721 000005AD 5B                              	POP	EBX
   722 000005AE 5D                              	POP	EBP
   723 000005AF C3                              	RET
   724 000005B0                                 	GLOBAL	_set_gatedesc
   725 000005B0                                 _set_gatedesc:
   726 000005B0 55                              	PUSH	EBP
   727 000005B1 89 E5                           	MOV	EBP,ESP
   728 000005B3 53                              	PUSH	EBX
   729 000005B4 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   730 000005B7 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   731 000005BA 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   732 000005BD 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
   733 000005C0 66 89 42 02                     	MOV	WORD [2+EDX],AX
   734 000005C4 88 5A 05                        	MOV	BYTE [5+EDX],BL
   735 000005C7 66 89 0A                        	MOV	WORD [EDX],CX
   736 000005CA 89 D8                           	MOV	EAX,EBX
   737 000005CC C1 F8 08                        	SAR	EAX,8
   738 000005CF C1 F9 10                        	SAR	ECX,16
   739 000005D2 88 42 04                        	MOV	BYTE [4+EDX],AL
   740 000005D5 66 89 4A 06                     	MOV	WORD [6+EDX],CX
   741 000005D9 5B                              	POP	EBX
   742 000005DA 5D                              	POP	EBP
   743 000005DB C3                              	RET
